<mat-card class="product-form-card">
  
  <mat-card-header>
    <mat-card-title class="form-title">Registrar Nuevo Producto 游꺚</mat-card-title>
    <mat-card-subtitle>Completa los detalles esenciales para tu tienda.</mat-card-subtitle>
    <mat-divider></mat-divider> </mat-card-header>

  <mat-card-content>
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
      
      <div class="row-group">
        
        <mat-form-field appearance="outline" class="half-width">
          <mat-label>Nombre del Producto</mat-label>
          <input matInput formControlName="name" placeholder="Ej: Crema Hidratante">
          <mat-error *ngIf="productForm.get('name')?.hasError('required')">El nombre es obligatorio.</mat-error>
          <mat-error *ngIf="productForm.get('name')?.hasError('maxlength')">M치ximo 100 caracteres.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="half-width">
          <mat-label>Categor칤a</mat-label>
          <mat-select formControlName="category">
            <mat-option *ngFor="let cat of categories" [value]="cat">
              {{ cat }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="productForm.get('category')?.hasError('required')">La categor칤a es obligatoria.</mat-error>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>URL de Imagen</mat-label>
        <input matInput formControlName="image" placeholder="https://ejemplo.com/imagen.jpg">
        <mat-icon matPrefix>image</mat-icon>
        <mat-error *ngIf="productForm.get('image')?.hasError('required')">La URL de la imagen es obligatoria.</mat-error>
        <mat-error *ngIf="productForm.get('image')?.hasError('pattern')">Debe ser una URL v치lida.</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Descripci칩n</mat-label>
        <textarea matInput formControlName="description" rows="3" placeholder="Detalle los beneficios y uso..."></textarea>
        <mat-error *ngIf="productForm.get('description')?.hasError('maxlength')">M치ximo 500 caracteres.</mat-error>
      </mat-form-field>

      <div class="row-group">
        <mat-form-field appearance="outline" class="half-width">
          <mat-label>Precio ($)</mat-label>
          <input matInput formControlName="price" type="number" step="0.01" min="0.01" placeholder="Ej: 25.50">
          <mat-icon matPrefix>attach_money</mat-icon>
          <mat-error *ngIf="productForm.get('price')?.hasError('required')">El precio es obligatorio.</mat-error>
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="half-width">
          <mat-label>Stock</mat-label>
          <input matInput formControlName="stock" type="number" min="0" placeholder="Cantidad disponible">
          <mat-icon matPrefix>inventory</mat-icon>
          <mat-error *ngIf="productForm.get('stock')?.hasError('required')">El stock es obligatorio.</mat-error>
        </mat-form-field>
      </div>

      <div class="toggle-group">
        <label>Disponibilidad:</label>
        <mat-slide-toggle formControlName="isAvailable" color="primary">
          {{ productForm.get('isAvailable')?.value ? 'En stock' : 'Agotado' }}
        </mat-slide-toggle>
      </div>

      <mat-card-actions class="form-actions">
        <button 
          mat-raised-button 
          color="primary" 
          type="submit" 
          [disabled]="productForm.invalid" 
          class="submit-button"
        >
          <mat-icon>save</mat-icon>
          Guardar Producto
        </button>
      </mat-card-actions>
      
    </form>
  </mat-card-content>
</mat-card>